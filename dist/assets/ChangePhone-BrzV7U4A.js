import{r as s,u as d,j as e,t as m}from"./index-CBGP0-9V.js";import{g as x}from"./user-BeTEafWb.js";import{C as h}from"./chevron-left-BTOK750O.js";import"./request-CRuLXg2Q.js";function v(){const i=s.useRef(!1),n=d(),[r,f]=s.useState(!1),[a,o]=s.useState({nickname:"",email:"",mobile:"",telephoneCode:"",avatar:"",deptNames:[],userPosition:[],companyName:""}),l=async()=>{try{const t=await x();o(t)}catch(t){m({variant:"destructive",title:"获取数据失败",description:(t==null?void 0:t.msg)||"获取数据失败"})}},c=a.mobile?a.mobile.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2"):"";return s.useEffect(()=>{if(!i.current){i.current=!0;let t=JSON.parse(localStorage.getItem("USER_INFO"));t&&t.mobile?o(t):l()}},[]),e.jsxs("div",{className:"min-h-[100dvh] bg-white",children:[e.jsxs("div",{className:"flex items-center px-3 py-4",children:[e.jsx(h,{className:"w-6 h-6",onClick:()=>n(-1)}),e.jsx("span",{className:"flex-1 text-center text-[18px] font-[600] mr-6",children:"手机号"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center mt-20",children:[e.jsx("div",{className:"w-14 h-14 bg-white rounded-2xl border border-[##EEEEEE] flex items-center justify-center mb-6",children:e.jsx("svg",{width:"30",height:"30",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M22.6667 2.66666H9.33333C7.86667 2.66666 6.66667 3.86666 6.66667 5.33333V26.6667C6.66667 28.1333 7.86667 29.3333 9.33333 29.3333H22.6667C24.1333 29.3333 25.3333 28.1333 25.3333 26.6667V5.33333C25.3333 3.86666 24.1333 2.66666 22.6667 2.66666ZM22.6667 24H9.33333V8H22.6667V24Z",fill:"#0363E0"})})}),e.jsxs("span",{className:"text-[14px] text-[#333333]",children:[a.telephoneCode," ",c]}),e.jsx("div",{className:"w-full px-5 mt-[30px]",children:e.jsx("button",{className:"w-full h-[35px] bg-[#0D0D0D] text-white rounded-full text-[14px] font-medium hover:bg-black/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>n("/app/edit-phone"),disabled:r,children:"更换手机号"})})]})]})}export{v as default};
