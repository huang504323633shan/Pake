import{r as h,j as t,a as p,X as T}from"./index-CBGP0-9V.js";import{C as I}from"./chevron-left-BTOK750O.js";import{C as z}from"./chevron-right-Bag1OeAJ.js";function q({isOpen:i=!1,onClose:g,onSelect:x,position:y="center"}){if(!i)return null;const[r,m]=h.useState(new Date),[a,f]=h.useState(null),[l,d]=h.useState(null),b=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],w=["日","一","二","三","四","五","六"],u=(e,s)=>new Date(e,s+1,0).getDate(),v=(e,s)=>new Date(e,s,1).getDay(),N=()=>{m(new Date(r.getFullYear(),r.getMonth()-1,1))},M=()=>{m(new Date(r.getFullYear(),r.getMonth()+1,1))},o=e=>`${e.getMonth()+1}-${e.getDate()},${e.getFullYear()}`,C=e=>{const s=new Date(r.getFullYear(),r.getMonth(),e);!a||a&&l?(f(s),d(null)):s<a?(d(a),f(s)):d(s)},$=e=>{if(!a||!l)return!1;const s=new Date(r.getFullYear(),r.getMonth(),e);return s>=a&&s<=l},D=e=>a?new Date(r.getFullYear(),r.getMonth(),e).getTime()===a.getTime():!1,j=e=>l?new Date(r.getFullYear(),r.getMonth(),e).getTime()===l.getTime():!1,k=()=>{a&&l?x(`${o(a)} - ${o(l)}`):a&&x(o(a))},F=()=>{const e=r.getFullYear(),s=r.getMonth(),Y=u(e,s),E=v(e,s),S=u(e,s-1);u(e,s+1);const c=[];for(let n=E-1;n>=0;n--)c.push(t.jsx("div",{className:"p-4 text-center text-gray-400",children:S-n},`prev-${n}`));for(let n=1;n<=Y;n++)c.push(t.jsx("div",{className:`p-4 text-center cursor-pointer relative
            ${D(n)?"bg-gray-300 text-gray-900 rounded-l-full":""}
            ${j(n)?"bg-gray-300 text-gray-900  rounded-r-full":""}
            ${$(n)&&!D(n)&&!j(n)?"bg-gray-100":""}
          `,onClick:()=>C(n),children:n},`current-${n}`));const R=42-c.length;for(let n=1;n<=R;n++)c.push(t.jsx("div",{className:"p-4 text-center text-gray-400",children:n},`next-${n}`));return c};return t.jsx("div",{className:p("fixed inset-0 flex items-center justify-center",i?"z-50":"z-0 pointer-events-none"),style:i?{background:"rgba(0,0,0,0.5)"}:{},onClick:g,children:t.jsxs("div",{className:p("h-[95vh] overflow-y-auto bg-white w-full transform transition-transform duration-300  ease-out",y==="center"?"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-lg shadow-xl max-w-[400px]":"rounded-t-xl fixed bottom-0",i?"translate-y-0":"translate-y-full"),onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-[#E8E8E8]",children:[t.jsx("h2",{className:"text-lg font-bold flex-1 text-center ",children:a||l?`${o(a)} 至 `+(l?`${o(l)}`:""):"选择日期"}),t.jsx("button",{onClick:g,children:t.jsx(T,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("button",{onClick:N,children:t.jsx(I,{className:"h-6 w-6"})}),t.jsxs("h3",{className:"text-lg font-medium text-gray-500",children:[r.getFullYear(),"年",b[r.getMonth()]]}),t.jsx("button",{onClick:M,children:t.jsx(z,{className:"h-6 w-6"})})]}),t.jsx("div",{className:"grid grid-cols-7 mb-2",children:w.map(e=>t.jsx("div",{className:"p-2 text-center font-medium",children:e},e))}),t.jsx("div",{className:"grid grid-cols-7",children:F()})]}),t.jsx("div",{className:"p-4",children:t.jsx("button",{className:"w-full p-3 bg-black text-white rounded-4xl text-center",onClick:k,disabled:!a,children:"确定"})})]})})}export{q as D};
